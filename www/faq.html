<html>
<head>
<title>Wizard API FAQ</title>
</head>
<body>
<h1>Wizards FAQ</h1>
<img align="right" src="logo.png"/> 

<p>
<b>Help!  Where do I start?</b>
<br>
If you just want to create a simple wizard with a fixed
set of steps, do the following:
<ol>
    <li>Create the panels you want in your favorite Swing GUI builder</li>
    <li>Have them subclass WizardPage</li>
    <li>For each component on each panel that affects what the wizard 
        will do or create (i.e. not panels, but checkboxes, text 
        fields, combo boxes, etc.), set
        the <code>name</code> of that component to some unique string.</li>
    <li>On each WizardPage subclass, add a static method:
        <ul>
            <li><code>public static String getDescription()</code> -
                this should return a <i>localized</i> string that
                describes the step - keep it short.
        </ul>
    </li>
    <li>Implement the one-method interface 
        <code>WizardPage.WizardResultProducer</code>.  It is going to be
        passed a <code>Map</code>, where the keys are the names of your
        components, and the values are the current values in those 
        components (i.e. if a checkbox is checked and has the name "foo",
        if you call <code>get("foo")</code> on the map, you will get
        Boolean.TRUE - all the standard Swing components are handled
        appropriately).  This is where you will take the values gathered
        into the map from user input as the user progressed through the
        wizard, and use them to do something or create some object.
    </li>
    <li>Do something like: 
        <pre>
            Class[] clazz = new Class[] {
                MyFirstPage.class,
                MySecondPage.class,
                MyThirdPage.class
                };
            WizardResultProducer finishIt = new MyResultProducer();
            Object result = WizardDisplayer.showWizard (
                WizardPage.createWizard(clazz, finishIt));
        </pre>
    </li>
</ol>

<p><b>Why pass Class objects for this stuff?</b><br>
User interfaces need to be responsive.  A Wizard is often invoked from a menu 
item;  most UI guidelines suggest that something should appear on screen within
100 milliseconds.  So we don't want to construct any panels we don't know we
need until we need them.

<p>
<b>Where are the examples?</b>
<br>
Check out the sources:
<pre>
    cvs -d:pserver:anoncvs@cvs.dev.java.net login
    cvs -d:pserver:anoncvs@cvs.dev.java.net co wizard
</pre>
Look in <code>wizard/wizardPageDemo</code> for a sample of 
using <code>WizardPage</code> to create a simple wizard;
look in <code>wizard/WizardDemo</code> for an example of how to
do branching and other more complex things.


<p>
<b>What is the settings map?</b><br>
A wizard should not do anything to its environment until the user clicks the
finish button - until then a wizard is just a thing that gathers information
on its panels.  The map is passed to each panel, and is a place where the
information is gathered together.
<p>
If you are using <code>WizardPage</code>, most of this is handled 
automagically - if you set the name of a component (i.e. a combo box,
text field, list, etc.), whenever the user changes it, the value
in the component will automatically be written to the settings map,
keyed to the name of the component (be careful not to duplicate
component names!).
<p>
What the wizard really <i>does</i> or creates with that information is
handled in the <code>finish (Map m)</code> method of the 
<code>WizardPanelProvider</code> or 
<code>WizardPage.WizardResultProducer</code>.


<p>
<b>I'm using WizardPage, and I have named components, but their initial values are 
not being automatically written to the wizard data map.  What's wrong?</b>
<br>
Make sure you call <code>setName</code> on your component <i>before</i> you
add it to the component hierarchy. <i><code>java.awt.Component</code>
does not fire property changes when you call <code>setName()</code></i>.
That means, if you set the name <i>after</i> you add it to your 
<code>WizardPage</code>, the system has no way of knowing about it, and 
it won't have written anything into the wizard data map when the component
was first added.


<p>
<b>How do I disable the next button?</b>
<br>
Call <code>WizardController.setProblem(&quot;[problem-string]&quot;)</code> on the
<code>WizardController</code> instance that was passed when your panel was
created.  The string that is passed
will appear at the bottom of the wizard.  It should be something that describes
what information is missing or incorrect, and how it is incorrect.


<p>
<b>What is the basis for the ui/button set/the way wizards look?</b>
<br>
The Java Look and Feel guidelines for wizards.  A lot of time, expertise and
effort went into figuring out how to create wizards that somebody's
grandmother could use in creating those - experimenting with different
designs and putting real users in front of them.  They are Good Stuff[tm].


<p>
<b>You said it's based on the JLF.  Does that mean my wizards will look like
   Metal Look and Feel if I don't write a UI myself?</b>
<br>
No, it uses standard components and will look fine on any look and feel.  It
follows <i>usability</i> guidelines - they do not dictate the appearance of
components.  You may want to provide a custom background image for the side
panels in wizards, with your application's logo.  See below for how to do that.

<p>
<b>How do I change the background image on the left side of the wizard dialog?</b>
<br>
Set the system property &quot;wizard.sidebar.image&quot; to a URL that points
to the image file inside a jar that is on the classpath.  The image must be in
a format readable by <code>ImageIO.read()</code>.
<br>
<i>This item is subject to change</i>


<p>
<b>What is the default image behind the steps on the left side of wizards?</b>
<br>
It's the standard side panel for wizards in NetBeans - because nobody's gotten
around to replacing it with something more generic.  Contributions are welcome.


<p>
<b>How do I disable the next button without showing a string to the user?</b>
<br>
First, <i>don't do that.</i>  Even if you think it's
obvious what's wrong, that doesn't mean it will be obvious to the user.  Really.
You are not your target audience (if you were, you wouldn't be writing a wizard).
<p>
Consistency is good.  If whenever something is wrong, some blue text appears in
the wizard, that's an added cue that something is wrong that makes the wizard
easy to use (not to mention that you can tell them how to fix it).  It is 
better for all wizard panels to behave the same way when something is wrong.
Things that silently fail and wizards that can't be completed make people go 
out and download other software that is friendlier.  Seriously.
<p>
Now, if you've read all that and you are <i>absolutely determined</i> to disable
the Next button without telling the user why you're doing that...call 
<code>setProblem(&quot;  &quot;);</code> on the <code>WizardController</code>.


<p>
<b>But <code>setProblem(&quot; &quot;)</code> looks like a hack...</b>
<br>
It is one.  Tell the user what's wrong instead.


<p>
<b>How do I disable the Prev button?</b>
<br>
You don't.  There is only one reason for wanting that:  The wizard has done
something irrevocable (changed files on disk, etc.) before the user clicked
finish.  The entire point of this library is to make it easy to create wizards
that <i>never do things like that</i> (it's a great way to have 
<i>really</i> nasty bugs that eat user data permanently, etc.).
<p>
You can <i>temporarily</i> disable all navigation with 
<code>WizardPanelProvider.setBusy()</code>.  This is for use when, for example,
some lengthy background process is happening and navigation should 
temporarily be disabled while it completes.
<p>
Now, if you're <i>absolutely determined</i> to do that, clear your mind and
stare at the <code>Wizard</code> interface for ten uninterrupted minutes.
The answer will come in a blinding flash.


<p>
<b>It says the wizard UI is pluggable.  How do I provide my own implementation
of <code>WizardDisplayer</code>?</b>
<br>
Write an implementation of <code>WizardDisplayer</code> which has a public,
no argument constructor.  Set the system property 
&quot;WizardDisplayer.default&quot; to the fully qualified name of the class.
<p>
Longer term, it would be nicer to use the NetBeans lookup library to do this - 
then a jar on the classpath just needs to have a file in 
<code>META-INF/services</code> naming the class, which is much cleaner.
<br><i>This item is subject to change</i>

    
<p>
<b>Why is the logo a cat?</b>
<br>
Because little wizard hats look silly...and I had a handy photo of a cat
waiting out a rainstorm under a table at an outdoor cafe in Venice.  
It's a metaphor for something...


<p>
<b>Can I create a wizard with only Next/Prev buttons?</b>
<br>
Yes, if you provide your own implementation of <code>WizardDisplayer</code>.
But there are a lot of reasons why the default UI is the way it is and 
most of them come from research on how to make very, very usable wizards.
Be sure you really want to do this.


<p>a
<b>Why are you so persnickity about UI?</b>
<br>
Because I'm a cranky curmudgeon.  Next question.

</body>
</html>